<!DOCTYPE html>
<html lang="en">

<head>
    <!-- meta tags for character set and responsiveness -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- page title -->
    <title>Global Health Workforce Migration</title>

    <!-- link to external css -->
    <link rel="stylesheet" href="style.css" />
</head>

<body>

    <!-- background pattern -->
    <div id='pattern'></div>

    <!-- page header with title and description -->
    <header>
        <h1>Global Health Workforce Migration</h1>
        <p>
            Explore how countries rely on migrant health workers — and how this affects
            the quality of care, health outcomes, and workforce capacity.
        </p>
    </header>

    <!-- container for map and side panel -->
    <div id="main-container">
        <!-- map wrapper to allow sliding -->
        <div id="map-wrapper">
            <main>
                <!-- top controls -->
                <div id="top-controls">
                    <div id="map-legend">
                        <span>Migrant workers (%):</span>
                        <svg width="100" height="12">
                            <defs>
                                <linearGradient id="mapGradient" x1="0" x2="1" y1="0" y2="0">
                                    <stop offset="0%" stop-color="#edf8fb" />
                                    <stop offset="25%" stop-color="#b2e2e2" />
                                    <stop offset="50%" stop-color="#66c2a4" />
                                    <stop offset="75%" stop-color="#2ca25f" />
                                    <stop offset="100%" stop-color="#006d2c" />
                                </linearGradient>
                            </defs>
                            <rect width="100" height="12" fill="url(#mapGradient)" />
                        </svg>
                    </div>

                    <div id="region-buttons">
                        <button data-region="World">World</button>
                        <button data-region="Africa">Africa</button>
                        <button data-region="Europe">Europe</button>
                        <button data-region="MiddleEast">Middle East</button>
                        <button data-region="Asia">Asia</button>
                        <button data-region="Americas">Americas</button>
                        <button data-region="Oceania">Oceania</button>
                    </div>
                    <div id="year-slider">
                        <label for="slider">Year: <span id="year-label">2015</span></label>
                        <input type="range" id="slider" min="2005" max="2022" step="1" value="2015">
                    </div>
                </div>

                <!-- map visualisation -->
                <div id="map-container"></div>
            </main>
        </div>

        <!-- fixed side panel -->
        <div id="country-panel" class="hidden">
            <button id="close-panel">×</button>
            <div id="country-header"></div>
            <div id="stat-cards"></div>
            <div id="stat-explanation">click a card to learn what it means</div>
            <div id="trend-chart"></div>
        </div>

    </div>

    <!-- container for tooltip (initially hidden) -->
    <div id="tooltip" class="hidden"></div>

    <!-- container for country details panel (initially hidden) -->
    <div id="country-panel" class="hidden">
        <button id="close-panel">×</button>
        <div id="country-header"></div>
        <div id="stat-cards"></div>
        <div id="stat-explanation">click a card to learn what it means</div>
        <div id="trend-chart"></div>
    </div>

    <!-- load the main javascript module -->
    <script type="module" src="main.js"></script>

    <footer>
        <a href="#" id="open-attribution">Data & Attribution</a>
    </footer>

    <!-- attribution modal -->
    <div id="attribution-modal" class="hidden">
        <div class="modal-content">
            <button id="close-attribution">×</button>
            <h3>Data & Attribution</h3>
            <p>Visualisation developed using public datasets provided by the OECD:</p>
            <p>Health Workforce Migration – <a
                    href="https://data-explorer.oecd.org/vis?df[ds]=dsDisseminateFinalDMZ&df[id]=DSD_HEALTH_WFMI%40DF_HEALTH_WFMI"
                    target="_blank">View Dataset</a></p>
            <p>Patient Experiences – <a href="https://data-explorer.oecd.org/vis?df[id]=DSD_HCQO%40DF_PE"
                    target="_blank">View Dataset</a></p>
            <p>Perceived Health Status – <a href="https://data-explorer.oecd.org/vis?df[id]=DSD_HEALTH_STAT%40DF_PHS"
                    target="_blank">View Dataset</a></p>
            <p>Life Expectancy – <a href="https://data-explorer.oecd.org/vis?df[id]=DSD_HEALTH_STAT%40DF_HEALTH_STATUS"
                    target="_blank">View Dataset</a></p>
            <p>Remuneration – <a href="https://data-explorer.oecd.org/vis?df[id]=DSD_HEALTH_REAC_EMP%40DF_REMUN"
                    target="_blank">View Dataset</a></p>
            <p>Provider Resources – <a
                    href="https://data-explorer.oecd.org/vis?df[id]=DSD_HEALTH_REAC_HOSP%40DF_HOSP_REAC"
                    target="_blank">View Dataset</a></p>

            <p>All data © OECD. Used under open license.</p>
        </div>
    </div>

</body>

</html>